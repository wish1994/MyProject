




# 函数概念

函数就是一个功能，是一个工具。

## 计算机为什么发明函数？
1. 重复使用一段代码

2. 方便代码管理

3. 便于控制程序的执行时间


## 写函数
做为一个程序开发人员，我们不仅要学会使用工具（函数），还得学会制作工具（函数）！

多条语句，组合成一个“语句军团”，集体作战。


```js
//定义一个函数，函数就是一组语句的集合
function haha() {

	console.log(1);
	console.log(2);
	console.log(3);
	console.log(4);
}

//调用函数
haha();

```

# 堆栈结构
函数到底是如何实现的呢？


【扩展】 值传递 与 引用传递的区别
对象的空间是在内存中“堆”区域分配的。

函数调用时，如果传递的数据是 number 类型的，
那么，函数中的形参会开辟一个空间，直接将这个值存下来
这种方式称为 “值传递”。

函数调用时，如果传递的数据是 Object 类型，
那么，函数中的形参会指向这个 Object 的空间
【Object的空间只有唯一 一份】
这种方式称为“引用传递”


## 作用域
局部变量 与 全局变量

// 在函数内部定义的变量，都是局部变量
// 函数外部定义的变量，称为全局变量



# 递归

为什么叫递归？

---------
老故事： 从前有座山...


---------
问自己在电影院中的座位号？
假设你在一个电影院，你想知道自己坐在哪一排，但是前面人很多，你懒得去数了，于是你问前一排的人「你坐在哪一排？」，这样前面的人 (代号 A) 回答你以后，你就知道自己在哪一排了——只要把 A 的答案加一，就是自己所在的排了。不料 A 比你还懒，他也不想数，于是他也问他前面的人 B「你坐在哪一排？」，这样 A 可以用和你一模一样的步骤知道自己所在的排。然后 B 也如法炮制。直到他们这一串人问到了最前面的一排，第一排的人告诉问问题的人「我在第一排」。最后大家就都知道自己在哪一排了。

---------
在世界中心贝拿勒斯（在印度北部）的圣庙里，一块黄铜板上插着三根宝石针。印度教的主神梵天在创造世界的时候，在其中一根针上从下到上地穿好了由大到小的64片金片，这就是所谓的汉诺塔。不论白天黑夜，总有一个僧侣在按照下面的法则移动这些金片：一次只移动一片，不管在哪根针上，小片必须在大片上面。僧侣们预言，当所有的金片都从梵天穿好的那根针上移到另外一根针上时，世界就将在一声霹雳中消灭，而梵塔、庙宇和众生也都将同归于尽。


假如每秒钟一次，共需多长时间呢？一个平年365天有31536000 秒，闰年366天有31622400秒，平均每年31556952秒，计算一下：
18446744073709551615秒


这表明移完这些金片需要5845.54亿年以上，而地球存在至今不过45亿年，太阳系的预期寿命据说也就是数百亿年

---------


【案例】 菲波那切数列
有一对兔子，长到第三个月，开始，每月生一对兔子，小兔子出生后，长到第三个月，每月都生一对兔子。假设兔子都不死，问任意月后，共有兔子多少对。

月份   一月兔   二月兔   三月兔     总数
0：      1       0       0        1
1：      0       1       0        1
2：      1       0       1        2
3：      1       1       1        3
4：      2       1       2        5
5：      3       2       3        8
...

总数： 有什么规律？
f(n) = f(n-1) + f(n-2)

1, 1, 2, 3, 5, 8, 13, 21, 34, ...





# 函数高级-封装

【案例】产生 [min, max] 间的随机数

min + parseInt((max-min+1)* Math.random())



【案例】console.log日志、document.write输出的封装




## IIFE

IIFE就是immediately-invoked function expression，即时调用函数表达式?  IIFE wikiPIdia
如果一个函数，在定义的时候，我们就想直接调用它，就是一个IIFE。

我们试图在定义函数的后面，直接写圆括号：
```js
function fun(){
	alert("哈哈")
}();

```

控制台报错，这是因为函数是一个函数体，并不是表达式，只有表达式能够用()来执行。

所以就要把function fun(){}“降级”， 从函数体降级为表达式。方法有很多：
```js
+function fun(){
	alert("哈哈")
}();

```

```js
-function fun(){
	alert("哈哈")
}();
```

```js
//更通常的：
(function fun(){
	alert("哈哈")
})();

```

用这种方法定义的函数，名字是无效的，其他的地方想调用这个函数
	fun("嘻嘻");
就会报错。

所以IIFE里面的函数，都是匿名函数：
```js
(function(){
	alert("哈哈");
})();
```

上面就是一个标准的IIFE。