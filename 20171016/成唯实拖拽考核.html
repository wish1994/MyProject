<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>Document</title>

<style>

* {
	padding: 0;
	margin: 0;
}

#box {
	border: 1px solid black;
	width: 500px;
	text-align: center;
	display: none;
	position: absolute;
}

#box h3 {
	background: skyblue;
	color: white;
	text-align: center;
	cursor: pointer;
}

#box h3 span {
	float: right;
}
textarea{
		width: 200px;
		height: 100px;
		resize:none;
}

</style>

 </head>
 <body>
  
  <ul id="ul">
	<li>
		今天下雨了oiwqeoiqwueoiuwqeoiuwqoieu~
	</li>
	<li>
		今天下雨了qweqweqwdsadsa~
	</li>
	<li>
		今天下雨了wqewqfrvdsvfsfsdf~
	</li>
  </ul>

<button onclick="fabu()"> 发布微博 </button>

<div id="box" >
	<h3 id="moveArea"> 发布微博  <span id="guanbi"> X </span> </h3>
	<p>
	   请输入您要发布的文字
	</p>
	<textarea id="text" maxlength="150" minlength="6">
	</textarea>

	<div>
		<button id="sure"> 确定 </button>
		<button id="quxiao"> 取消 </button>
	</div>
</div>


<script>
/*
1. 点击“发布微博”按钮，显示对话框。 默认是看不到对话框
2. 按住标题可以拖拽 整个 div
3. 点击“取消” 按钮可以关闭对话框
4. （难） 点击“X” 按钮可以关闭对话框

16:50

*/
var box=document.getElementById("box");
var moveArea=document.getElementById("moveArea");
var text=document.getElementById("text");
var quxiao=document.getElementById("quxiao");
var guanbi=document.getElementById("guanbi");
var sure=document.getElementById("sure");
var aUl=document.getElementById("ul");
function fabu(){
	box.style.display="block";
}
moveArea.onmousedown=function(e){
	e.preventDefault();
	var detaX=e.clientX-box.offsetLeft;
	var detaY=e.clientY-box.offsetTop;
	document.onmousemove=function(e1){
		var x=e1.clientX-detaX;
		var y=e1.clientY-detaY;
		box.style.left=x+"px";
		box.style.top=y+"px";
	}	
	document.onmouseup=function(){
		document.onmousemove=null;
	};
}
function close(){
	box.style.display="none";
	text.value="";
}
quxiao.onclick=close;
guanbi.onclick=close;
sure.onclick=function(){
	var content=text.value;
	var oli=document.createElement("li");
	oli.innerHTML=content;
	aUl.appendChild(oli);
	close();
	alert("发表成功");	
}

</script>

 </body>
</html>
