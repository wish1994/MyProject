<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script type="text/javascript">
			//promise是为了更好的异步操作
			
			{
				let ajax = function(callback){
					console.log("我是demo1");
					
					setTimeout(function(){  //模拟延时效果
						callback && callback();
					},1000);
					
				}
				
				
				//调用
//				ajax(function(){
//					console.log("我是代码的语句1");
//				})
				
				//这个就是回调函数在es5中的使用，但是如果业务复杂了，先执行语句1,2,3,4
				//后期维护很麻烦，很难一下看明白
			}
			
			{
				//简单使用
				let ajax = function(){
					console.log("我是demo2");
					
					//返回一个对象，这个对象就是promise的实例，具有一个then的方法，就是执行下一步的方法
					return new Promise(function(resolve,reject){
//						有两个参数: resolv是执行下一步操作, reject是终止操作
						
						setTimeout(function(){  //模拟延时效果
//							resolve();
							reject();
						},1000);
					})
					
				}	
				
				
					//then方法是promise实例执行下一步的方法，对应的resolv
					ajax().then(function(){
						console.log("我是成功后的内容");
					}).catch(function(){
						console.log("我是失败后的内容");
					})
					
				
			}
			
		</script>
	</head>
	<body>
	</body>
</html>
